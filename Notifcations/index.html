<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">

<!-- Fullscreen iPhone App -->
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="icon.png">

<title>iPhone App Notifications</title>

<style>
body {
    background: #121212;
    color: white;
    font-family: Arial;
    text-align: center;
    padding-top: 80px;
}
button {
    padding: 15px 25px;
    font-size: 20px;
    border: none;
    border-radius: 10px;
    background: #744BFC;
    color: white;
}
</style>
</head>
<body>

<h1>iPhone App Local Notifications</h1>

<button id="ask">Enable Notifications</button>
<br><br>
<button id="send">Send Test Notification</button>

<script>
// Register service worker
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
}

// Ask for permission
document.getElementById("ask").onclick = async () => {
    const perm = await Notification.requestPermission();
    if (perm === "granted") {
        alert("Notifications Enabled!");
    } else {
        alert("Notifications Denied.");
    }
};

// Send a notification
document.getElementById("send").onclick = async () => {
    const reg = await navigator.serviceWorker.ready;

    reg.showNotification("Hello from your App!", {
        body: "This is a local iPhone notification.",
        icon: "icon.png",
        badge: "icon.png"
    });
};
</script>

</body>
</html>
